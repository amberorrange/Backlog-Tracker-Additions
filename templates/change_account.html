{% extends 'base.html' %}

{% block title %} {% if current_user.is_authenticated %}
    {{ current_user.fname }}'s Account'
    {% endif %} {% endblock %} 


{% block content %}



    <div class="container-fluid">


        <h1 class="center-text mb-5">{{ current_user.fname }} {{ current_user.lname}}'s Account </h1>

        <div class="row">
            <div class="col-sm-4 col-md-7 col-lg-5 col-xl-4 col-xxl-4 mx-auto change-acct-width">
                <div class="card-transparent">
                    <div class="card-body">

                        <div class="card-title mx-auto">
                            <h4 style="text-align: center;">Change Account Information</h4>
                        </div>

                        <form action="/change_account_info" method="POST">

                            <div class="form-group pt-4 mx-auto">
                                <div class="col-10 mx-auto">    
                                    <input class="form-control" type="text" value="{{ current_user.fname }}" name="fname"> 
                                </div>
                            </div>


                            <div class="form-group pt-4 mx-auto">
                                <div class="col-10 mx-auto">    
                                    <input type="text" class="form-control" value="{{ current_user.lname }}" name="lname"> 
                                </div>
                            </div>


                            <div class="form-group pt-4 mx-auto">
                                <div class="col-10 mx-auto">    
                                    <input type="email" class="form-control" value="{{ current_user.email }}" name="email">
                                </div>
                            </div>



                            <div class="form-group mt-4 mb-4 mx-auto">
                                <div class="col-10 mx-auto">    
                                    <input class="form-control password" type="password"  placeholder="Password" name="password"> 
                                </div>
                            </div>
    


                            <div class="form-group row">
                                <div class="col-10 mb-3 mx-auto">    
                                    <input type="password" class="password form-control"  placeholder="Confirm Password" name="pw_confirm">
                                </div>
                            </div>



                            <div class="form-group row">
                                <div class="col-6 mb-3 mx-auto">
                                    <div class="form-check">
                                        <input type="checkbox"  class="form-check-input checkbox" onclick="togglePasswordVisibilty()">
                                        <label>Show Password</label>
                                    </div>
                                </div>
                            </div>


                            <div class="form-group row">
                                <div class="col-10  mx-auto">
                                    <input class="tn-transparent form-control mb-3" type="submit">
                                </div>
                            </div>

                            <div class="form-group row">
                                <div class="col-10 mb-2 mx-auto">
                                    <button class="btn-transparent form-control" onclick="location.href='/show_user_details'" type="button">Cancel</button> 
                                </div>
                            </div>
                        </form>
                

                    </div>
                </div>
            </div>
        </div>


        <ul>
            {% for message in get_flashed_messages() %}
              <p class="flash flash-login">{{ message }}</p>
            {% endfor %}
          </ul>
      

    </div>

{% endblock %}